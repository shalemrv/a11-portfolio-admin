import { Component, AfterViewInit, ViewChild } from '@angular/core';

import { MatPaginator } from '@angular/material/paginator';
import { MatSort } from '@angular/material/sort';
import { MatTableDataSource } from '@angular/material/table';

import { Visitor } from './../../models/visitor.model';

@Component({
	selector: 'app-visitors-list',
	templateUrl: './visitors-list.component.html',
	styleUrls: ['./visitors-list.component.scss'],
})
export class VisitorsListComponent implements AfterViewInit {
	visitorsListCount!: number;

	displayedColumns: string[] = ['slNo', 'entryTime', 'fullAddress'];
	dataSource = new MatTableDataSource<Visitor>(ARRAY_VISITORS);

	@ViewChild(MatSort) sort!: MatSort;
	@ViewChild(MatPaginator) paginator!: MatPaginator;

	ngAfterViewInit() {
		this.dataSource.paginator = this.paginator;
		this.visitorsListCount = ARRAY_VISITORS.length;
	}
}

let jsonResp = {
	chart: {
		groups: ['2021'],
		visits: [4, 5, 2, 5, 1, 6, 2, 5, 1, 2, 1, 2, 10],
		labels: [
			'23 Feb 2021',
			'25 Feb 2021',
			'26 Feb 2021',
			'01 Mar 2021',
			'03 Mar 2021',
			'04 Mar 2021',
			'06 Mar 2021',
			'23 Mar 2021',
			'25 Mar 2021',
			'26 Mar 2021',
			'16 Apr 2021',
			'17 Apr 2021',
			'18 Apr 2021',
		],
	},
	list: [
		{
			slNo: 34,
			visitorID: 36,
			sessionID: '6mm9ubh6g7hetudfvunrg3sti7',
			timeRaw: 1618588602,
			entryTime: '16 Apr 2021, 09:26 PM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 33,
			visitorID: 35,
			sessionID: 'e0eu3djfr3n7gh4mhaus3p524r',
			timeRaw: 1616737970,
			entryTime: '26 Mar 2021, 11:22 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 32,
			visitorID: 33,
			sessionID: 'vtbi6tbjvgni920mtdo8amv2ph',
			timeRaw: 1616697493,
			entryTime: '26 Mar 2021, 12:08 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 31,
			visitorID: 34,
			sessionID: '1ba49mt3c85arpq5p7a5tmt6k7',
			timeRaw: 1616645910,
			entryTime: '25 Mar 2021, 09:48 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 30,
			visitorID: 32,
			sessionID: 'cj377pi8l2fspth9t71to3bfnp',
			timeRaw: 1616524186,
			entryTime: '23 Mar 2021, 11:59 PM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 29,
			visitorID: 31,
			sessionID: 'hfc8e2nmtnnhn92rii0i91t56q',
			timeRaw: 1616524173,
			entryTime: '23 Mar 2021, 11:59 PM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 28,
			visitorID: 30,
			sessionID: '0s8ikn5sl6l129hscnfijbmc78',
			timeRaw: 1616524116,
			entryTime: '23 Mar 2021, 11:58 PM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 27,
			visitorID: 29,
			sessionID: 'otodq9e1efgb5jfahebdabfsr0',
			timeRaw: 1616494773,
			entryTime: '23 Mar 2021, 03:49 PM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 26,
			visitorID: 28,
			sessionID: 'm4h7tdnjb1137e73uth6pd9ae3',
			timeRaw: 1616494514,
			entryTime: '23 Mar 2021, 03:45 PM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 25,
			visitorID: 27,
			sessionID: '3103f9153ad20eb76debff32e4be8df6',
			timeRaw: 1615005954,
			entryTime: '06 Mar 2021, 10:15 AM',
			ipAddress: '',
			city: 'Menifee',
			region: 'California',
			country: 'United States',
			zip: '92543',
			flag: 'http://assets.ipstack.com/flags/us.svg',
			fullAddress: 'Menifee, California, United States - 92543',
		},
		{
			slNo: 24,
			visitorID: 26,
			sessionID: 'ad9efdf6f83c0d161f184a7d1b779fb5',
			timeRaw: 1614969147,
			entryTime: '06 Mar 2021, 12:02 AM',
			ipAddress: '',
			city: 'Menifee',
			region: 'California',
			country: 'United States',
			zip: '92543',
			flag: 'http://assets.ipstack.com/flags/us.svg',
			fullAddress: 'Menifee, California, United States - 92543',
		},
		{
			slNo: 23,
			visitorID: 25,
			sessionID: '1646f61953770734a9ed85c38deedede',
			timeRaw: 1614860518,
			entryTime: '04 Mar 2021, 05:51 PM',
			ipAddress: '',
			city: 'Mountain View',
			region: 'California',
			country: 'United States',
			zip: '94043',
			flag: 'http://assets.ipstack.com/flags/us.svg',
			fullAddress: 'Mountain View, California, United States - 94043',
		},
		{
			slNo: 22,
			visitorID: 24,
			sessionID: 'c4d8c1559918a4365126243397e16cb2',
			timeRaw: 1614818042,
			entryTime: '04 Mar 2021, 06:04 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560034',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560034',
		},
		{
			slNo: 21,
			visitorID: 23,
			sessionID: '40204939f844b5233b5e000cbfb8c4e5',
			timeRaw: 1614805330,
			entryTime: '04 Mar 2021, 02:32 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560034',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560034',
		},
		{
			slNo: 20,
			visitorID: 22,
			sessionID: '40204939f844b5233b5e000cbfb8c4e5',
			timeRaw: 1614804824,
			entryTime: '04 Mar 2021, 02:23 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560034',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560034',
		},
		{
			slNo: 19,
			visitorID: 21,
			sessionID: '9c07c6bb6e484e9c2798516b0c6ea9a2',
			timeRaw: 1614803442,
			entryTime: '04 Mar 2021, 02:00 AM',
			ipAddress: '',
			city: 'Tel Aviv',
			region: 'Tel Aviv',
			country: 'Israel',
			zip: '61000',
			flag: 'http://assets.ipstack.com/flags/il.svg',
			fullAddress: 'Tel Aviv, Tel Aviv, Israel - 61000',
		},
		{
			slNo: 18,
			visitorID: 20,
			sessionID: '26a0f226d081ed7fbe03561566cd3454',
			timeRaw: 1614803392,
			entryTime: '04 Mar 2021, 01:59 AM',
			ipAddress: '',
			city: 'Santa Clara',
			region: 'California',
			country: 'United States',
			zip: '95054',
			flag: 'http://assets.ipstack.com/flags/us.svg',
			fullAddress: 'Santa Clara, California, United States - 95054',
		},
		{
			slNo: 17,
			visitorID: 19,
			sessionID: '45cdef01d53dc72d130afd1c224461e2',
			timeRaw: 1614724964,
			entryTime: '03 Mar 2021, 04:12 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560034',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560034',
		},
		{
			slNo: 16,
			visitorID: 18,
			sessionID: '182fbf61b26449758a3db4f47dfda34b',
			timeRaw: 1614583626,
			entryTime: '01 Mar 2021, 12:57 PM',
			ipAddress: '',
			city: 'Doddaguni',
			region: 'Karnataka',
			country: 'India',
			zip: '572211',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Doddaguni, Karnataka, India - 572211',
		},
		{
			slNo: 15,
			visitorID: 17,
			sessionID: 'b464aef65095614c1b64be1114f03836',
			timeRaw: 1614545879,
			entryTime: '01 Mar 2021, 02:27 AM',
			ipAddress: '',
			city: 'Gubbi',
			region: 'Karnataka',
			country: 'India',
			zip: '572216',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Gubbi, Karnataka, India - 572216',
		},
		{
			slNo: 14,
			visitorID: 16,
			sessionID: 'aec3216da63b939838e9198ec384ef81',
			timeRaw: 1614544567,
			entryTime: '01 Mar 2021, 02:06 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560034',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560034',
		},
		{
			slNo: 13,
			visitorID: 15,
			sessionID: '252861410c3c0ce40897d9c714b4e3ae',
			timeRaw: 1614543056,
			entryTime: '01 Mar 2021, 01:40 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560034',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560034',
		},
		{
			slNo: 12,
			visitorID: 14,
			sessionID: 'b464aef65095614c1b64be1114f03836',
			timeRaw: 1614543026,
			entryTime: '01 Mar 2021, 01:40 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560053',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560053',
		},
		{
			slNo: 11,
			visitorID: 13,
			sessionID: 'da23c0d635b92bbeb74b1bb397ed77ae',
			timeRaw: 1614361466,
			entryTime: '26 Feb 2021, 11:14 PM',
			ipAddress: '',
			city: 'Yalladabagi',
			region: 'Karnataka',
			country: 'India',
			zip: '562119',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Yalladabagi, Karnataka, India - 562119',
		},
		{
			slNo: 10,
			visitorID: 12,
			sessionID: '93222306f0723746b03306010576165d',
			timeRaw: 1614335906,
			entryTime: '26 Feb 2021, 04:08 PM',
			ipAddress: '',
			city: 'Jammu',
			region: 'Jammu and Kashmir',
			country: 'India',
			zip: '180001',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Jammu, Jammu and Kashmir, India - 180001',
		},
		{
			slNo: 9,
			visitorID: 11,
			sessionID: 'd09c89871e561e9286fd20d6b8bde836',
			timeRaw: 1614276106,
			entryTime: '25 Feb 2021, 11:31 PM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560034',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560034',
		},
		{
			slNo: 8,
			visitorID: 10,
			sessionID: 'ba57a95a358b28b641e77601e7a8906e',
			timeRaw: 1614234289,
			entryTime: '25 Feb 2021, 11:54 AM',
			ipAddress: '',
			city: 'Jammu',
			region: 'Jammu and Kashmir',
			country: 'India',
			zip: '180001',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Jammu, Jammu and Kashmir, India - 180001',
		},
		{
			slNo: 7,
			visitorID: 9,
			sessionID: 'b0f81d894ae01616cc82b1af628d3310',
			timeRaw: 1614232877,
			entryTime: '25 Feb 2021, 11:31 AM',
			ipAddress: '',
			city: 'Mountain View',
			region: 'California',
			country: 'United States',
			zip: '94043',
			flag: 'http://assets.ipstack.com/flags/us.svg',
			fullAddress: 'Mountain View, California, United States - 94043',
		},
		{
			slNo: 6,
			visitorID: 8,
			sessionID: '5555273278cff77a297ccea573cdcf5f',
			timeRaw: 1614213953,
			entryTime: '25 Feb 2021, 06:15 AM',
			ipAddress: '',
			city: 'Gubbi',
			region: 'Karnataka',
			country: 'India',
			zip: '572216',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Gubbi, Karnataka, India - 572216',
		},
		{
			slNo: 5,
			visitorID: 7,
			sessionID: '5555273278cff77a297ccea573cdcf5f',
			timeRaw: 1614199352,
			entryTime: '25 Feb 2021, 02:12 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560069',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560069',
		},
		{
			slNo: 4,
			visitorID: 6,
			sessionID: '30fdf3099661f6f62a2381330d052ef6',
			timeRaw: 1614073211,
			entryTime: '23 Feb 2021, 03:10 PM',
			ipAddress: '',
			city: 'Menifee',
			region: 'California',
			country: 'United States',
			zip: '92543',
			flag: 'http://assets.ipstack.com/flags/us.svg',
			fullAddress: 'Menifee, California, United States - 92543',
		},
		{
			slNo: 3,
			visitorID: 5,
			sessionID: '4d76eace011d468e7d1b2033c688546c',
			timeRaw: 1614057011,
			entryTime: '23 Feb 2021, 10:40 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 2,
			visitorID: 4,
			sessionID: 'e9c84ada51cc9b97657093e3c4dd598d',
			timeRaw: 1614054235,
			entryTime: '23 Feb 2021, 09:53 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
		{
			slNo: 1,
			visitorID: 3,
			sessionID: '3c0ae27b01d8bc8524bd0e3bed7ce6cd',
			timeRaw: 1614045711,
			entryTime: '23 Feb 2021, 07:31 AM',
			ipAddress: '',
			city: 'Bengaluru',
			region: 'Karnataka',
			country: 'India',
			zip: '560033',
			flag: 'http://assets.ipstack.com/flags/in.svg',
			fullAddress: 'Bengaluru, Karnataka, India - 560033',
		},
	],
};

const ARRAY_VISITORS: Visitor[] = jsonResp.list;
